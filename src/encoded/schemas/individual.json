{
    "title": "Individual",
    "id": "/profiles/individual.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": ["sex"],
    "identifyingProperties": ["uuid", "accession", "aliases"],
    "mixinProperties": [
        { "$ref": "mixins.json#/attribution" },
        { "$ref": "mixins.json#/aliases" },
        { "$ref": "mixins.json#/schema_version" },
        { "$ref": "mixins.json#/uuid" },
        { "$ref": "mixins.json#/submitted" },
        { "$ref": "mixins.json#/status" },
        { "$ref": "mixins.json#/modified" },
        { "$ref": "mixins.json#/accession"}
    ],
    "properties": {
        "accession" : {
            "accessionType" : "ID"
        },
        "age": {
            "title": "Age of the Individual",
            "type": "number",
            "lookup": 2
        },
        "age_units": {
            "title": "Age units",
            "type": "string",
            "lookup": 3,
            "enum": [
                "day",
                "week",
                "month",
                "year"
            ]
        },
        "is_pregnancy": {
            "title": "Pregnancy",
            "type": "boolean"
        },
        "gestational_age": {
            "title": "Gestational Age (weeks)",
            "description": "Age of fetus, expressed as weeks",
            "type": "number"
        },
        "sex": {
            "title": "Sex",
            "type": "string",
            "enum": [
                "M",
                "F",
                "U"
            ]
        },
        "quantity": {
            "title": "Quantity",
            "description": "Number of individuals represented by this item in pedigree",
            "type": "number"
        },
        "phenotypic_features": {
            "title": "Phenotypic Features",
            "description": "Phenotypic Features as listed in HPO",
            "type": "array",
            "uniqueItems": true,
            "items":{
                "title": "Phenotypic Feature Info",
                "type": "object",
                "required": ["phenotypic_feature"],
                "properties": {
                    "phenotypic_feature": {
                        "title": "Phenotypic Feature",
                        "type": "string",
                        "linkTo": "Phenotype",
                        "lookup": 11
                    },
                    "onset_age": {
                        "title": "Onset Age",
                        "type": "number",
                        "lookup": 12
                    },
                    "onset_age_units": {
                        "title": "Onset Age Units",
                        "type": "string",
                        "lookup": 13,
                        "enum": [
                            "day",
                            "week",
                            "month",
                            "year"
                        ]
                    }
                }
            }
        },
        "disorders" : {
            "title" : "Disorders",
            "type" : "array",
            "uniqueItems": true,
            "items" : {
                "title" : "Disorder",
                "type" : "string",
                "linkTo" : "Disorder"
            }
        },
        "clinic_notes": {
            "title": "Notes from the Clinic",
            "type": "string"
        },
        "birth_year" : {
            "title" : "Year of Birth",
            "type" : "integer"
        },
        "is_deceased": {
            "title": "Deceased",
            "description": "Whether the individual is deceased",
            "type": "boolean"
        },
        "life_status": {
            "title": "Life Status",
            "description": "Status of individual",
            "type": "string",
            "enum": [
                "alive and well",
                "alive",
                "deceased",
                "unknown"
            ]
        },
        "is_termination_of_pregnancy": {
            "title": "Termination of Pregnancy",
            "type": "boolean"
        },
        "is_spontaneous_abortion": {
            "title": "Spontaneous Abortion",
            "type": "boolean"
        },
        "is_still_birth": {
            "title": "Still Birth",
            "type": "boolean"
        },
        "cause_of_death": {
            "title" : "Cause of Death",
            "type" : "string",
            "linkTo" : "Phenotype"
        },
        "age_at_death": {
            "title": "Death Age",
            "type": "number"
        },
        "age_at_death_units": {
            "title": "Death Age Units",
            "type": "string",
            "lookup": 13,
            "enum": [
                "day",
                "week",
                "month",
                "year"
            ]
        },
        "is_no_children_by_choice": {
            "title": "No Children by Choice",
            "type": "boolean"
        },
        "is_infertile": {
            "title": "Infertile",
            "type": "boolean"
        },
        "cause_of_infertility": {
            "title" : "Cause of Infertility",
            "type" : "string"
        },
        "ancestry": {
            "title": "Ancestry",
            "description": "Ancestry of the individual.",
            "type": "array",
            "uniqueItems": true,
            "items": {
                "title": "Ancestry",
                "type" : "string",
                "enum": [
                    "African/African American",
                    "Amish",
                    "Latino",
                    "Ashkenazi Jewish",
                    "East Asian",
                    "Finnish",
                    "Non-Finnish European",
                    "South Asian",
                    "Other"
                ]
            }
        },
        "ethnicity": {
            "title": "Ethnicity",
            "description": "Ethnicity of the individual.",
            "type": "string",
            "suggested_enum": [
                "Asian",
                "Black",
                "Hispanic",
                "Indian",
                "Middle Eastern",
                "Native American",
                "Pacific Islander",
                "Caucasian",
                "Other"
            ]
        },
        "images" : {
            "title" : "Images",
            "type" : "array",
            "uniqueItems": true,
            "items" : {
                "title" : "Image",
                "type" : "string",
                "linkTo" : "Image"
            }
        },
        "institutional_id": {
            "description": "Custom identifier provided by the institution",
            "type": "object",
            "required": ["id", "id_source"],
            "properties": {
                "id": {
                    "title": "Identifier",
                    "type": "string",
                    "uniqueKey": true
                },
                "institution": {
                    "title": "Institution",
                    "type": "string",
                    "linkTo": "Institution"
                }
            }
        },
        "mother": {
            "title": "Mother",
            "type": "string",
            "linkTo": "Individual"
        },
        "father": {
            "title": "Father",
            "type": "string",
            "linkTo": "Individual"
        },
        "samples" : {
            "title" : "Samples",
            "type" : "array",
            "uniqueItems": true,
            "items" : {
                "title" : "Sample",
                "type" : "string",
                "linkTo" : "Sample"
            }
        }
    },
    "facets" : {
        "life_status" : {
            "title" : "Life Status"
        },
        "sex" : {
            "title" : "Gender"
        },
        "birth_year" : {
            "title" : "Birth Year",
            "notes": "Currently will show up as terms; need to change to date range once able to"
        },
        "disorders" : {
            "title" : "Disorders"
        },
        "phenotypic_features" : {
            "title" : "Phenotypic Features"
        },
        "ethnicity" : {
            "title": "Ethnicity",
            "grouping": "Origin"
        },
        "ancestry" : {
            "title": "Ancestry",
            "grouping": "Origin"
        },
        "is_infertile" : {
            "title": "Is Infertile",
            "grouping" : "Children",
            "notes" : "We could implement a 'boolean' facet type view"
        },
        "is_no_children_by_choice" : {
            "title": "No Children by Choice",
            "grouping" : "Children"
        },
        "is_still_birth" : {
            "title": "Is Still-Birth",
            "grouping" : "Pregnancy"
        },
        "is_spontaneous_abortion" : {
            "title": "Is Spontaneous Abortion",
            "grouping" : "Pregnancy"
        },
        "is_termination_of_pregnancy" : {
            "title": "Is Termination of Pregnancy",
            "grouping" : "Pregnancy"
        },
        "is_pregnancy" : {
            "title" : "Is Pregnancy",
            "grouping" : "Pregnancy"
        },
        "is_deceased" : {
            "title" : "Is Deceased",
            "grouping" : "Deceased"
        },
        "cause_of_death" : {
            "title": "Cause of Death",
            "grouping" : "Deceased"
        },
        "age_at_death" : {
            "title": "Age of Death",
            "grouping": "Deceased",
            "disabled": true,
            "notes" : "We should create calculated property that combined age_at_death + age_at_death_units, idk."
        }
    },
    "columns" : {
        "institutional_id" : {
            "title" : "Institutional ID"
        },
        "age" : {
            "title" : "Age",
            "notes" : "Make custom column render fxn that combines this + units",
            "default_hidden" : true
        },
        "sex" : {
            "title" : "Sex",
            "default_hidden" : false
        },
        "ethnicity" : {
            "title" : "Ethnicity",
            "default_hidden" : true
        },
        "ancestry" : {
            "title" : "Ancestry",
            "default_hidden" : true
        },
        "life_status" : {
            "title" : "Life Status",
            "default_hidden" : false
        },
        "age_at_death" : {
            "title" : "Age at Death",
            "default_hidden" : true,
            "notes" : "Make custom column render fxn that combines this + units"
        },
        "cause_of_death" : {
            "title" : "Death Cause",
            "default_hidden" : true
        },
        "is_pregnancy" : {
            "title" : "Pregnancy",
            "default_hidden" : true
        },
        "is_termination_of_pregnancy" : {
            "title" : "Termination of Pregnancy",
            "default_hidden" : true
        },
        "is_spontaneous_abortion" : {
            "title" : "Spontaneous Abortion",
            "default_hidden" : true
        },
        "is_still_birth" : {
            "title" : "Still Birth",
            "default_hidden" : true
        },
        "is_no_children_by_choice" : {
            "title" : "No Children by Choice",
            "default_hidden" : true
        },
        "is_infertile" : {
            "title" : "Infertile",
            "default_hidden" : true
        }
    }
}
